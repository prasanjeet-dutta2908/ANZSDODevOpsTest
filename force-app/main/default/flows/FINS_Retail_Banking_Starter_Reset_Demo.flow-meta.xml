<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>58.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <choices>
        <name>EndFlow</name>
        <choiceText>That&apos;s a wrap!</choiceText>
        <dataType>String</dataType>
    </choices>
    <choices>
        <name>OnboardingCase</name>
        <choiceText>Delete the &quot;New Stratus Bundle&quot; Case</choiceText>
        <dataType>String</dataType>
    </choices>
    <choices>
        <name>ReturnToMainMenu</name>
        <choiceText>Return to the main menu</choiceText>
        <dataType>String</dataType>
    </choices>
    <choices>
        <name>SalesCadence</name>
        <choiceText>Reset Sales Cadence for Richard Bennett</choiceText>
        <dataType>String</dataType>
    </choices>
    <decisions>
        <description>Validate that there is a New Stratus Bundle case to delete.</description>
        <name>Found_Case_to_Delete</name>
        <label>Found Case to Delete?</label>
        <locationX>446</locationX>
        <locationY>566</locationY>
        <defaultConnector>
            <targetReference>No_Cases_Found</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Found</defaultConnectorLabel>
        <rules>
            <name>Case_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Stratus_Bundle_Case_ID.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Action_Plan</targetReference>
            </connector>
            <label>Case Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Loop_Selection_Router</name>
        <label>Loop Selection Router</label>
        <locationX>446</locationX>
        <locationY>1706</locationY>
        <defaultConnectorLabel>End Flow</defaultConnectorLabel>
        <rules>
            <name>Return_to_Main_Menu</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ReturnToMainMenu</leftValueReference>
                <operator>WasSelected</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <isGoTo>true</isGoTo>
                <targetReference>DF22_Retail_Banking_Reset_Menu</targetReference>
            </connector>
            <label>Return to Menu</label>
        </rules>
    </decisions>
    <decisions>
        <name>Reset_Routing</name>
        <label>Reset Routing</label>
        <locationX>446</locationX>
        <locationY>242</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Sales_Cadence</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>SalesCadence</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Admin_User_ID</targetReference>
            </connector>
            <label>Sales Cadence</label>
        </rules>
        <rules>
            <name>Stratus_Bundle</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>OnboardingCase</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Rachel_Morris_Account_ID</targetReference>
            </connector>
            <label>Stratus Bundle</label>
        </rules>
    </decisions>
    <description>Flow provides users with the option to remove records from the sales cadence and/ or delete the new &quot;stratus bundle&quot; cases.</description>
    <environments>Default</environments>
    <interviewLabel>Retail Banking - Starter - Reset Demo {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Retail Banking - Starter - Reset Demo</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordDeletes>
        <name>Delete_Action_Plan</name>
        <label>Delete Action Plan</label>
        <locationX>314</locationX>
        <locationY>998</locationY>
        <connector>
            <targetReference>Delete_Tasks</targetReference>
        </connector>
        <inputReference>Get_Action_Plan</inputReference>
    </recordDeletes>
    <recordDeletes>
        <name>Delete_Case</name>
        <label>Delete Case</label>
        <locationX>314</locationX>
        <locationY>1322</locationY>
        <connector>
            <targetReference>Return_to_Menu</targetReference>
        </connector>
        <inputReference>Get_Stratus_Bundle_Case_ID</inputReference>
    </recordDeletes>
    <recordDeletes>
        <name>Delete_Doc_Checklist_Items</name>
        <label>Delete Doc Checklist Items</label>
        <locationX>314</locationX>
        <locationY>1214</locationY>
        <connector>
            <targetReference>Delete_Case</targetReference>
        </connector>
        <inputReference>Get_Doc_Checklist_Items</inputReference>
    </recordDeletes>
    <recordDeletes>
        <name>Delete_Tasks</name>
        <label>Delete Tasks</label>
        <locationX>314</locationX>
        <locationY>1106</locationY>
        <connector>
            <targetReference>Delete_Doc_Checklist_Items</targetReference>
        </connector>
        <inputReference>Get_Tasks</inputReference>
    </recordDeletes>
    <recordLookups>
        <name>Get_Action_Plan</name>
        <label>Get Action Plan</label>
        <locationX>314</locationX>
        <locationY>674</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Tasks</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>TargetId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Stratus_Bundle_Case_ID.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>ActionPlan</object>
        <sortField>Id</sortField>
        <sortOrder>Asc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Admin_User_ID</name>
        <label>Get Admin User ID</label>
        <locationX>50</locationX>
        <locationY>350</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Richard_Bennett_Lead_ID</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>External_ID__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>User.001</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>User</object>
        <sortField>Id</sortField>
        <sortOrder>Asc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Doc_Checklist_Items</name>
        <label>Get Doc Checklist Items</label>
        <locationX>314</locationX>
        <locationY>890</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Delete_Action_Plan</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ParentRecordId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Stratus_Bundle_Case_ID.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>DocumentChecklistItem</object>
        <sortField>Id</sortField>
        <sortOrder>Asc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Rachel_Morris_Account_ID</name>
        <label>Get Rachel Morris Account ID</label>
        <locationX>446</locationX>
        <locationY>350</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Stratus_Bundle_Case_ID</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>External_ID__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>FSC_Account.003</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <sortField>Id</sortField>
        <sortOrder>Asc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Richard_Bennett_Lead_ID</name>
        <label>Get Richard Bennett Lead ID</label>
        <locationX>50</locationX>
        <locationY>458</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Return_to_Menu</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>External_ID__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>FSC_Lead.212</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Lead</object>
        <sortField>Id</sortField>
        <sortOrder>Asc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Stratus_Bundle_Case_ID</name>
        <label>Get Stratus Bundle Case ID</label>
        <locationX>446</locationX>
        <locationY>458</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Found_Case_to_Delete</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>AccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Rachel_Morris_Account_ID.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Case_Record_Type_API_Name__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>FINS_SCSE_Case_Pinned_LH_Panel</stringValue>
            </value>
        </filters>
        <filters>
            <field>Subject</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>New Stratus Bundle</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case</object>
        <sortField>Id</sortField>
        <sortOrder>Asc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Tasks</name>
        <label>Get Tasks</label>
        <locationX>314</locationX>
        <locationY>782</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Doc_Checklist_Items</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>WhatId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Stratus_Bundle_Case_ID.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Task</object>
        <sortField>Id</sortField>
        <sortOrder>Asc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <screens>
        <name>DF22_Retail_Banking_Reset_Menu</name>
        <label>DF22 Retail Banking Reset Menu</label>
        <locationX>446</locationX>
        <locationY>134</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Reset_Routing</targetReference>
        </connector>
        <fields>
            <name>Demo_Selection</name>
            <choiceReferences>SalesCadence</choiceReferences>
            <choiceReferences>OnboardingCase</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Demo Selection</fieldText>
            <fieldType>RadioButtons</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>false</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>No_Cases_Found</name>
        <label>No Cases Found</label>
        <locationX>578</locationX>
        <locationY>674</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>DF22_Retail_Banking_Reset_Menu</targetReference>
        </connector>
        <fields>
            <name>NoCaseFoundDisplayText</name>
            <fieldText>&lt;p&gt;We did not locate any Stratus Bundle cases for this account. &lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Return_to_Menu</name>
        <label>Return to Menu</label>
        <locationX>446</locationX>
        <locationY>1598</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Loop_Selection_Router</targetReference>
        </connector>
        <fields>
            <name>SuccessDisplayText</name>
            <fieldText>&lt;p&gt;We have successfully rolled back the changes for this demo. &lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <fields>
            <name>What_Next</name>
            <choiceReferences>ReturnToMainMenu</choiceReferences>
            <choiceReferences>EndFlow</choiceReferences>
            <dataType>String</dataType>
            <fieldText>What&apos;s Next</fieldText>
            <fieldType>RadioButtons</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>false</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>320</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>DF22_Retail_Banking_Reset_Menu</targetReference>
        </connector>
    </start>
    <status>Active</status>
</Flow>
